3.3.2. Regression
==================

ここではJubatusの線形回帰機能（Regression）である、jubaregressionを使用した、Jubatus Clientの使い方を説明します。

線形回帰機能（Regression）とは、入力データから、出力データを推定する機能であり、株価予測や消費電力予測などに利用することができます。


-----------------------------------
3.3.2.1. サンプルプログラムの概要
-----------------------------------


サンプルとして、駅からの距離、専有面積、築年数等の条件から家賃を推測するプログラム「rent」を用いて説明していきます。

最初に、賃貸情報サイトから取得した「S町の1Rマンション」の賃貸情報（:download:`rent-data.csv <../downloads/rent-data.csv>`）をクライアント側で用意し、推定するためのモデルをサーバ側に学習させます。

次に、推定用の入力データとして外部ファイル（今回はYAML形式を使用する）に物件の条件を入力し、サーバ側では先ほど学習したモデルを用い、条件にふさわしい家賃を推定して返却し、クライアント側で受け取った結果を出力するプログラムとなっています。

例えば、推定用の入力データとして「駅からの距離（distance）は5分、占有面積（space）は32.0㎡、築年数（age）は15年」と入力すると、8.0万円と推定家賃が返却されます。


--------------------------------
3.3.2.2. 処理の流れ
--------------------------------

Jubatus Clientを使ったコーディングは、主に以下の流れになります。

 ① Jubatus Serverへの接続設定
  サーバ側で起動しているJubatus ServerのHOSTやPORTを指定し、接続設定をします。

 ② 学習用データの準備
  賃貸情報CSVから家賃（rent）ごとに学習用データを作成します。

 ③ データの学習（学習モデルの更新）
  ②で作成した学習用データをtrainメソッドでサーバ側に与え、学習を行います。

 ④ 推定用データの準備
  推定用にサーバ側に投げる、物件情報のデータを作成します。

 ⑤ 学習モデルに基づく推定
  ④で作成した推定用データを入力値とし、estimateメソッドで③の学習に基づいた推定をします。

 ⑥ 結果の出力
  estimateメソッドの戻り値である推定結果を出力します。
  
--------------------------------
3.3.2.3. Java
--------------------------------

.. toctree::
   :maxdepth: 2
   
   03_03_02_03_Regression_Java
   

--------------------------------
3.3.2.4. Python
--------------------------------

.. toctree::
   :maxdepth: 2
   
   03_03_02_04_Regression_Python


--------------------------------
3.3.2.5. Ruby
--------------------------------

.. toctree::
   :maxdepth: 2
   
   03_03_02_05_Regression_Ruby
   
   
